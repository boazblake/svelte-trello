var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function c(t){t.forEach(e)}function r(t){return"function"==typeof t}function l(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function o(t,e){t.appendChild(e)}function a(t,e,n){t.insertBefore(e,n)}function i(t){t.parentNode.removeChild(t)}function s(t){return document.createElement(t)}function d(t){return document.createTextNode(t)}function u(){return d(" ")}function f(){return d("")}function p(t,e,n,c){return t.addEventListener(e,n,c),()=>t.removeEventListener(e,n,c)}function h(t,e){e=""+e,t.data!==e&&(t.data=e)}let m;function g(t){m=t}const v=[],k=Promise.resolve();let $=!1;const y=[],_=[],N=[];function b(t){_.push(t)}function x(){const t=new Set;do{for(;v.length;){const t=v.shift();g(t),C(t.$$)}for(;y.length;)y.shift()();for(;_.length;){const e=_.pop();t.has(e)||(e(),t.add(e))}}while(v.length);for(;N.length;)N.pop()();$=!1}function C(t){t.fragment&&(t.update(t.dirty),c(t.before_render),t.fragment.p(t.dirty,t.ctx),t.dirty=null,t.after_render.forEach(b))}function w(t,e){t.d(1),e.delete(t.key)}function D(t,e,n,c,r,l,o,a,i,s,d,u){let f=t.length,p=l.length,h=f;const m={};for(;h--;)m[t[h].key]=h;const g=[],v=new Map,k=new Map;for(h=p;h--;){const t=u(r,l,h),a=n(t);let i=o.get(a);i?c&&i.p(e,t):(i=s(a,t)).c(),v.set(a,g[h]=i),a in m&&k.set(a,Math.abs(h-m[a]))}const $=new Set,y=new Set;function _(t){t.i&&t.i(1),t.m(a,d),o.set(t.key,t),d=t.first,p--}for(;f&&p;){const e=g[p-1],n=t[f-1],c=e.key,r=n.key;e===n?(d=e.first,f--,p--):v.has(r)?!o.has(c)||$.has(c)?_(e):y.has(r)?f--:k.get(c)>k.get(r)?(y.add(c),_(e)):($.add(r),f--):(i(n,o),f--)}for(;f--;){const e=t[f];v.has(e.key)||i(e,o)}for(;p;)_(g[p-1]);return g}function E(t,e){t.$$.dirty||(v.push(t),$||($=!0,k.then(x)),t.$$.dirty={}),t.$$.dirty[e]=!0}function M(l,o,a,i,s,d){const u=m;g(l);const f=o.props||{},p=l.$$={fragment:null,ctx:null,props:d,update:t,not_equal:s,bound:n(),on_mount:[],on_destroy:[],before_render:[],after_render:[],context:new Map(u?u.$$.context:[]),callbacks:n(),dirty:null};let h=!1;var v;p.ctx=a?a(l,f,(t,e)=>{p.ctx&&s(p.ctx[t],p.ctx[t]=e)&&(p.bound[t]&&p.bound[t](e),h&&E(l,t))}):f,p.update(),h=!0,c(p.before_render),p.fragment=i(p.ctx),o.target&&(o.hydrate?p.fragment.l((v=o.target,Array.from(v.childNodes))):p.fragment.c(),o.intro&&l.$$.fragment.i&&l.$$.fragment.i(),function(t,n,l){const{fragment:o,on_mount:a,on_destroy:i,after_render:s}=t.$$;o.m(n,l),b(()=>{const n=a.map(e).filter(r);i?i.push(...n):c(n),t.$$.on_mount=[]}),s.forEach(b)}(l,o.target,o.anchor),x()),g(u)}class O{$destroy(){var e,n;n=!0,(e=this).$$&&(c(e.$$.on_destroy),e.$$.fragment.d(n),e.$$.on_destroy=e.$$.fragment=null,e.$$.ctx={}),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}function I(t,e,n){const c=Object.create(t);return c.card=e[n],c.i=n,c}function j(t,e,n){const c=Object.create(t);return c.collection=e[n],c.i=n,c}function B(t){var e,n,r,l,f,m,g,v,k,$,y,_=t.card.val;function N(...e){return t.click_handler_3(t,...e)}return{c(){e=s("div"),n=s("span"),r=d("â˜°"),f=u(),m=s("div"),g=s("span"),v=d(_),k=u(),($=s("span")).textContent="X",n.className="drag svelte-s7a0k6",n.id=l="card-"+t.card.id,n.draggable=!0,g.className="title svelte-s7a0k6",m.className="card svelte-s7a0k6",$.className="btn delete svelte-s7a0k6",e.className="cardRow svelte-s7a0k6",y=[p(n,"dragstart",t.startDrag),p($,"click",N)]},m(t,c){a(t,e,c),o(e,n),o(n,r),o(e,f),o(e,m),o(m,g),o(g,v),o(e,k),o(e,$)},p(e,c){t=c,e.cards&&l!==(l="card-"+t.card.id)&&(n.id=l),e.cards&&_!==(_=t.card.val)&&h(v,_)},d(t){t&&i(e),c(y)}}}function S(t,e){var n,c,r=e.card.col==e.collection.id&&B(e);return{key:t,first:null,c(){n=f(),r&&r.c(),c=f(),this.first=n},m(t,e){a(t,n,e),r&&r.m(t,e),a(t,c,e)},p(t,e){e.card.col==e.collection.id?r?r.p(t,e):((r=B(e)).c(),r.m(c.parentNode,c)):r&&(r.d(1),r=null)},d(t){t&&i(n),r&&r.d(t),t&&i(c)}}}function T(t,e){var n,r,l,f,m,g,v,k,$,y,_,N,b,x,C,E,M,O=e.collection.val,j=[],B=new Map;function T(...t){return e.click_handler_1(e,...t)}function A(...t){return e.click_handler_2(e,...t)}var L=e.cards;const P=t=>t.card.id;for(var X=0;X<L.length;X+=1){let t=I(e,L,X),n=P(t);B.set(n,j[X]=S(n,t))}return{key:t,first:null,c(){for(n=s("div"),r=s("div"),l=s("h2"),f=d(O),m=u(),(g=s("button")).textContent="X",v=u(),k=s("div"),$=s("input"),_=u(),(N=s("button")).textContent="ADD",b=u(),x=s("div"),X=0;X<j.length;X+=1)j[X].c();C=u(),l.className="h2 svelte-s7a0k6",g.className="btn delete svelte-s7a0k6",r.className="inputContainer svelte-s7a0k6",$.id=y="input-"+e.collection.id,$.className="input svelte-s7a0k6",$.placeholder="add a new task",N.className="btn svelte-s7a0k6",k.className="inputContainer svelte-s7a0k6",x.className="colBody svelte-s7a0k6",n.className="col svelte-s7a0k6",n.id=E="col-"+e.collection.id,M=[p(g,"click",T),p(N,"click",A),p(n,"drop",e.handleDrop),p(n,"dragover",e.handleDragOver)],this.first=n},m(t,e){for(a(t,n,e),o(n,r),o(r,l),o(l,f),o(r,m),o(r,g),o(n,v),o(n,k),o(k,$),o(k,_),o(k,N),o(n,b),o(n,x),X=0;X<j.length;X+=1)j[X].m(x,null);o(n,C)},p(t,c){e=c,t.collections&&O!==(O=e.collection.val)&&h(f,O),t.collections&&y!==(y="input-"+e.collection.id)&&($.id=y);const r=e.cards;j=D(j,t,P,1,e,r,B,x,w,S,null,I),t.collections&&E!==(E="col-"+e.collection.id)&&(n.id=E)},d(t){for(t&&i(n),X=0;X<j.length;X+=1)j[X].d();c(M)}}}function A(e){var n,c,r,l,d,f,h,m,g,v,k,$,y=[],_=new Map,N=e.collections;const b=t=>t.collection.id;for(var x=0;x<N.length;x+=1){let t=j(e,N,x),n=b(t);_.set(n,y[x]=T(n,t))}return{c(){for(n=s("section"),c=s("div"),(r=s("h1")).textContent="Svelte Trello",l=u(),d=s("hr"),f=u(),h=s("div"),m=s("input"),g=u(),(v=s("button")).textContent="ADD",k=u(),x=0;x<y.length;x+=1)y[x].c();r.className="title svelte-s7a0k6",d.className="hr svelte-s7a0k6",m.id="input-collection",m.className="input svelte-s7a0k6",m.placeholder="add a new Collection",v.className="btn svelte-s7a0k6",h.className="inputContainer svelte-s7a0k6",c.className="top svelte-s7a0k6",n.className="container svelte-s7a0k6",$=p(v,"click",e.click_handler)},m(t,e){for(a(t,n,e),o(n,c),o(c,r),o(c,l),o(c,d),o(c,f),o(c,h),o(h,m),o(h,g),o(h,v),o(n,k),x=0;x<y.length;x+=1)y[x].m(n,null)},p(t,e){const c=e.collections;y=D(y,t,b,1,e,c,_,n,w,T,null,j)},i:t,o:t,d(t){for(t&&i(n),x=0;x<y.length;x+=1)y[x].d();$()}}}function L(t,e,n){let c=[],r=[],l={id:"",status:!1},o=t=>document.getElementById(`input-${t}`).value="",a=t=>document.getElementById(`input-${t}`).value,i=()=>{n("collections",c=[...c,{val:a("collection"),id:c.length+1}]),o("collection")},s=t=>{n("cards",r=[...r,{id:r.length+1,val:a(t),col:parseInt(t)}]),o(t)},d=t=>{let e=c.filter(e=>e.id>t);e.map(t=>t.id=t.id-1),n("collections",c=[...c.filter(e=>e.id<t),...e])},u=t=>{let e=r.filter(e=>e.id>t);e.map(t=>t.id=t.id-1),n("cards",r=[...r.filter(e=>e.id<t),...e])};return{collections:c,cards:r,addCollections:i,addCard:s,removeCol:d,removeCard:u,startDrag:t=>{t.target.classList.toggle("dragging"),l.id=t.target.id.split("-")[1],n("dragging",l),l.status=!0,n("dragging",l),t.dataTransfer.dropEffect="move"},handleDrop:t=>{t.preventDefault();let e=t.target.id.split("-")[0],c=t.target.id.split("-")[1];"col"==e&&(r.filter(t=>t.id==l.id)[0].col=parseInt(c),n("cards",r));if("card"==e){let t=r.filter(t=>t.id==c)[0].col;r.filter(t=>t.id==l.id)[0].col=parseInt(t),n("cards",r)}},handleDragOver:t=>{t.preventDefault(),t.stopPropagation(),t.dataTransfer.dropEffect="move"},click_handler:function(t){return i()},click_handler_1:function({collection:t},e){return d(t.id)},click_handler_2:function({collection:t},e){return s(t.id)},click_handler_3:function({card:t},e){return u(t.id)}}}return new class extends O{constructor(t){super(),M(this,t,L,A,l,[])}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
