var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function c(t){t.forEach(e)}function r(t){return"function"==typeof t}function o(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function l(t,e){t.appendChild(e)}function a(t,e,n){t.insertBefore(e,n)}function i(t){t.parentNode.removeChild(t)}function d(t){return document.createElement(t)}function s(t){return document.createTextNode(t)}function u(){return s(" ")}function f(){return s("")}function p(t,e,n,c){return t.addEventListener(e,n,c),()=>t.removeEventListener(e,n,c)}function h(t,e){e=""+e,t.data!==e&&(t.data=e)}let m;function g(t){m=t}const v=[],$=Promise.resolve();let k=!1;const y=[],_=[],b=[];function N(t){_.push(t)}function x(){const t=new Set;do{for(;v.length;){const t=v.shift();g(t),z(t.$$)}for(;y.length;)y.shift()();for(;_.length;){const e=_.pop();t.has(e)||(e(),t.add(e))}}while(v.length);for(;b.length;)b.pop()();k=!1}function z(t){t.fragment&&(t.update(t.dirty),c(t.before_render),t.fragment.p(t.dirty,t.ctx),t.dirty=null,t.after_render.forEach(N))}function w(t,e){t.d(1),e.delete(t.key)}function C(t,e,n,c,r,o,l,a,i,d,s,u){let f=t.length,p=o.length,h=f;const m={};for(;h--;)m[t[h].key]=h;const g=[],v=new Map,$=new Map;for(h=p;h--;){const t=u(r,o,h),a=n(t);let i=l.get(a);i?c&&i.p(e,t):(i=d(a,t)).c(),v.set(a,g[h]=i),a in m&&$.set(a,Math.abs(h-m[a]))}const k=new Set,y=new Set;function _(t){t.i&&t.i(1),t.m(a,s),l.set(t.key,t),s=t.first,p--}for(;f&&p;){const e=g[p-1],n=t[f-1],c=e.key,r=n.key;e===n?(s=e.first,f--,p--):v.has(r)?!l.has(c)||k.has(c)?_(e):y.has(r)?f--:$.get(c)>$.get(r)?(y.add(c),_(e)):(k.add(r),f--):(i(n,l),f--)}for(;f--;){const e=t[f];v.has(e.key)||i(e,l)}for(;p;)_(g[p-1]);return g}function E(t,e){t.$$.dirty||(v.push(t),k||(k=!0,$.then(x)),t.$$.dirty={}),t.$$.dirty[e]=!0}function D(o,l,a,i,d,s){const u=m;g(o);const f=l.props||{},p=o.$$={fragment:null,ctx:null,props:s,update:t,not_equal:d,bound:n(),on_mount:[],on_destroy:[],before_render:[],after_render:[],context:new Map(u?u.$$.context:[]),callbacks:n(),dirty:null};let h=!1;var v;p.ctx=a?a(o,f,(t,e)=>{p.ctx&&d(p.ctx[t],p.ctx[t]=e)&&(p.bound[t]&&p.bound[t](e),h&&E(o,t))}):f,p.update(),h=!0,c(p.before_render),p.fragment=i(p.ctx),l.target&&(l.hydrate?p.fragment.l((v=l.target,Array.from(v.childNodes))):p.fragment.c(),l.intro&&o.$$.fragment.i&&o.$$.fragment.i(),function(t,n,o){const{fragment:l,on_mount:a,on_destroy:i,after_render:d}=t.$$;l.m(n,o),N(()=>{const n=a.map(e).filter(r);i?i.push(...n):c(n),t.$$.on_mount=[]}),d.forEach(N)}(o,l.target,l.anchor),x()),g(u)}class I{$destroy(){var e,n;n=!0,(e=this).$$&&(c(e.$$.on_destroy),e.$$.fragment.d(n),e.$$.on_destroy=e.$$.fragment=null,e.$$.ctx={}),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}function B(t,e,n){const c=Object.create(t);return c.card=e[n],c.i=n,c}function M(t,e,n){const c=Object.create(t);return c.collection=e[n],c.i=n,c}function O(t){var e,n,r,o,f,m,g,v=t.card.val;function $(...e){return t.click_handler_2(t,...e)}return{c(){e=d("div"),n=d("div"),r=s(v),f=u(),m=d("span"),n.className="card svelte-1z0pn6k",n.id=o="card-"+t.card.id,n.draggable=!0,m.className="delBtn svelte-1z0pn6k",e.className="cardRow svelte-1z0pn6k",g=[p(n,"dragstart",t.startDrag),p(m,"click",$)]},m(t,c){a(t,e,c),l(e,n),l(n,r),l(e,f),l(e,m)},p(e,c){t=c,e.cards&&v!==(v=t.card.val)&&h(r,v),e.cards&&o!==(o="card-"+t.card.id)&&(n.id=o)},d(t){t&&i(e),c(g)}}}function j(t,e){var n,c,r=e.card.col==e.collection.id&&O(e);return{key:t,first:null,c(){n=f(),r&&r.c(),c=f(),this.first=n},m(t,e){a(t,n,e),r&&r.m(t,e),a(t,c,e)},p(t,e){e.card.col==e.collection.id?r?r.p(t,e):((r=O(e)).c(),r.m(c.parentNode,c)):r&&(r.d(1),r=null)},d(t){t&&i(n),r&&r.d(t),t&&i(c)}}}function A(t,e){var n,r,o,f,m,g,v,$,k,y,_,b,N,x,z=e.collection.val,E=[],D=new Map;function I(...t){return e.click_handler_1(e,...t)}var M=e.cards;const O=t=>t.card.id;for(var A=0;A<M.length;A+=1){let t=B(e,M,A),n=O(t);D.set(n,E[A]=j(n,t))}return{key:t,first:null,c(){for(n=d("div"),r=d("h1"),o=s(z),f=u(),m=d("div"),g=d("input"),$=u(),(k=d("button")).textContent="Add",y=u(),_=d("div"),A=0;A<E.length;A+=1)E[A].c();b=u(),r.className="h1",g.id=v="input-"+e.collection.id,g.className="input svelte-1z0pn6k",g.placeholder="add a new task",k.className="btn svelte-1z0pn6k",m.className="inputContainer svelte-1z0pn6k",_.className="colBody svelte-1z0pn6k",n.className="col svelte-1z0pn6k",n.id=N="col-"+e.collection.id,x=[p(k,"click",I),p(n,"drop",e.handleDrop),p(n,"dragover",e.handleDragOver)],this.first=n},m(t,e){for(a(t,n,e),l(n,r),l(r,o),l(n,f),l(n,m),l(m,g),l(m,$),l(m,k),l(n,y),l(n,_),A=0;A<E.length;A+=1)E[A].m(_,null);l(n,b)},p(t,c){e=c,t.collections&&z!==(z=e.collection.val)&&h(o,z),t.collections&&v!==(v="input-"+e.collection.id)&&(g.id=v);const r=e.cards;E=C(E,t,O,1,e,r,D,_,w,j,null,B),t.collections&&N!==(N="col-"+e.collection.id)&&(n.id=N)},d(t){for(t&&i(n),A=0;A<E.length;A+=1)E[A].d();c(x)}}}function S(e){var n,c,r,o,s,f,h,m,g,v,$,k,y,_,b=[],N=new Map,x=e.collections;const z=t=>t.collection.id;for(var E=0;E<x.length;E+=1){let t=M(e,x,E),n=z(t);N.set(n,b[E]=A(n,t))}return{c(){for(n=d("section"),c=d("div"),(r=d("h1")).textContent="Svelte Trello",o=u(),s=d("hr"),f=u(),h=d("div"),(m=d("label")).textContent="Add A Collection",g=u(),v=d("input"),$=u(),(k=d("button")).textContent="+",y=u(),E=0;E<b.length;E+=1)b[E].c();r.className="title svelte-1z0pn6k",s.className="hr svelte-1z0pn6k",m.htmlFor="input-collection",v.id="input-collection",v.className="collectionInput svelte-1z0pn6k",v.placeholder="add a new Collection",k.className="collectionBtn svelte-1z0pn6k",h.className="collectionInputContainer svelte-1z0pn6k",c.className="top svelte-1z0pn6k",n.className="container svelte-1z0pn6k",_=p(k,"click",e.click_handler)},m(t,e){for(a(t,n,e),l(n,c),l(c,r),l(c,o),l(c,s),l(c,f),l(c,h),l(h,m),l(h,g),l(h,v),l(h,$),l(h,k),l(n,y),E=0;E<b.length;E+=1)b[E].m(n,null)},p(t,e){const c=e.collections;b=C(b,t,z,1,e,c,N,n,w,A,null,M)},i:t,o:t,d(t){for(t&&i(n),E=0;E<b.length;E+=1)b[E].d();_()}}}function T(t,e,n){let c=[],r=[],o={id:"",status:!1},l=t=>document.getElementById(`input-${t}`).value="",a=t=>document.getElementById(`input-${t}`).value,i=()=>{n("collections",c=[...c,{val:a("collection"),id:c.length+1}]),l("collection")},d=t=>{n("cards",r=[...r,{id:r.length+1,val:a(t),col:parseInt(t)}]),l(t)},s=t=>{let e=r.filter(e=>e.id>t);e.map(t=>t.id=t.id-1),n("cards",r=[...r.filter(e=>e.id<t),...e])};return{collections:c,cards:r,addCollections:i,addCard:d,removeCard:s,startDrag:t=>{o.id=t.target.id.split("-")[1],n("dragging",o),o.status=!0,n("dragging",o),t.dataTransfer.dropEffect="move"},handleDrop:t=>{t.preventDefault();let e=t.target.id.split("-")[0],c=t.target.id.split("-")[1];"col"==e&&(r.filter(t=>t.id==o.id)[0].col=parseInt(c),n("cards",r));if("card"==e){let t=r.filter(t=>t.id==c)[0].col;r.filter(t=>t.id==o.id)[0].col=parseInt(t),n("cards",r)}},handleDragOver:t=>{t.preventDefault(),t.stopPropagation(),t.dataTransfer.dropEffect="move"},click_handler:function(t){return i()},click_handler_1:function({collection:t},e){return d(t.id)},click_handler_2:function({card:t},e){return s(t.id)}}}return new class extends I{constructor(t){super(),D(this,t,T,S,o,[])}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
